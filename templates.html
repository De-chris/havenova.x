<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HX Store | Pro Digital Marketplace</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<link rel="stylesheet" href="css/templates.css">
</head>

<body>
<div id="sync-status"><i class="fas fa-wifi"></i> Offline Mode. Using Cached Data.</div>

<header>
  <a href="index.html"><img src="logo1.png" class="logo"></a>
  <div style="display:flex; gap:10px;">
      <button id="userBtn" onclick="toggleAccount()" class="filter-trigger"><i class="fas fa-user"></i></button>
      <button onclick="refreshData()" class="filter-trigger"><i class="fas fa-sync-alt"></i></button>
      <button onclick="toggleTheme()" class="filter-trigger"><i id="tIcon" class="fas fa-moon"></i></button>
  </div>
</header>

<div id="authModal" class="auth-overlay">
    <div class="auth-card" id="loginBox">
        <h2>Login</h2>
        <input type="text" id="logUser" placeholder="Username" style="width:100%; padding:10px; margin-bottom:10px; border-radius:8px; background:var(--surface); color:var(--text); border:1px solid var(--border);">
        <input type="password" id="logPass" placeholder="Password" style="width:100%; padding:10px; margin-bottom:10px; border-radius:8px; background:var(--surface); color:var(--text); border:1px solid var(--border);">
        <button onclick="authLogin()" class="main-btn" style="width:100%">Sign In</button>
        <button onclick="closeAuth()" class="filter-trigger" style="width:100%; margin-top:10px;"><i class="fas fa-times-circle"></i></button>
    </div>
</div>

<div class="controls-wrapper">
    <div class="search-bar">
        <i class="fas fa-search" style="margin-left:10px; color:var(--muted)"></i>
        <input type="text" id="searchInput" placeholder="Search templates...">
    </div>
</div>

<main>
    <div id="loading" style="text-align:center; padding: 50px;"><i class="fas fa-circle-notch fa-spin fa-2x"></i></div>
    <div id="template-container" class="store-grid"></div>
</main>

<div id="productOverlay" class="overlay">
    <div class="overlay-header">
        <button onclick="closeOverlay()" class="filter-trigger"><i class="fas fa-arrow-left"></i></button>
        <h3 id="ovTitle" style="margin:0; font-size:16px;"></h3>
        <button onclick="location.href='index.html'" class="filter-trigger" title="All Templates"><i class="fas fa-th-large"></i></button>
    </div>
    <div class="overlay-content">
        <img id="ovImg" class="full-img" referrerpolicy="no-referrer">
        
        <div class="tiny-actions">
            <button class="tiny-btn" id="copyLinkBtn" title="Copy Private Link"><i class="fas fa-link"></i></button>
            <button class="tiny-btn" id="reportBtn" title="Report Template"><i class="fas fa-flag"></i></button>
        </div>

        <div id="ovPrice" style="font-size: 22px; font-weight: bold; color:var(--primary); margin-bottom:10px;"></div>
        <p id="ovDesc" style="font-size:13px; color:var(--muted); line-height:1.5; margin-bottom:20px;"></p>
        
        <div style="display:flex; gap:10px; margin-bottom:20px;">
            <button id="ovActionBtn" class="main-btn" style="padding:15px;"></button>
            <button class="icon-btn" id="ovLikeBtn" style="flex:0.3; font-size:16px;">
                <i class="fas fa-heart"></i> <span id="ovLikeCnt">0</span>
            </button>
        </div>

        <div class="comment-box">
            <h4 style="margin:0 0 10px; font-size:14px;"><i class="fas fa-comments"></i> Comments</h4>
            <div id="commentList"></div>
            <button id="showMoreComments" class="show-more-btn" onclick="renderComments(true)" style="display:none; color:var(--primary); background:none; border:none; width:100%; cursor:pointer;">Show More</button>
            <div style="display:flex; gap:5px; margin-top:10px;">
                <textarea id="commentMsg" placeholder="Write a comment..." style="flex:1; background:var(--bg); color:var(--text); border:1px solid var(--border); border-radius:10px; padding:10px; height:45px;"></textarea>
                <button onclick="postComment()" class="main-btn" style="flex:0.2;"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</div>

<div id="supportOverlay" class="overlay">
    <div class="overlay-header">
        <h3>Support</h3>
        <button onclick="document.getElementById('supportOverlay').style.display='none'" class="filter-trigger"><i class="fas fa-times"></i></button>
    </div>
    <div class="overlay-content">
        <textarea id="supportMsg" style="width:100%; height:150px; background:var(--surface); border:1px solid var(--border); color:var(--text); padding:15px; border-radius:15px;" placeholder="How can we help?"></textarea>
        <button onclick="sendSupport()" class="main-btn" style="width:100%; margin-top:15px; background:#2563eb; color:white; padding:15px;">Send Message</button>
    </div>
</div>

<div class="fab-support" onclick="document.getElementById('supportOverlay').style.display='flex'">
    <i class="fas fa-headset"></i>
</div>

<script src="js/templates.js"></script>
</body>
</html>